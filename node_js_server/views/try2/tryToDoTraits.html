<!DOCTYPE html>
<html>
	<head>
	<style>
	table,td {
		border: 1px solid black;
		border-collapse:collapse;
		background-color:#dcd9d9;
	}
	</style>
	</head>
	<body>
	<div style="display:inline-block">
	<button onclick="navigateToPage(1)">1</button>
	<button onclick="navigateToPage(2)">2</button>
	<button onclick="navigateToPage(3)">3</button>
	<button onclick="submitForm()">Submit</button>
	</div>
	<div name="MetadataPage" class="pages">
		<form id="dataForm">
			<div style="display:inline-block">
				<p><b>Job ID</b></p>
				<input name="roleID"/>
			</div>
			<div style="display:inline-block">
				<p><b>Organization Name</b></p>
				<select size="3">
					<option value="CBL">CBL</option>
					<option value="JCT">JCT</option>
					<option value="KLM">KLM</option>
					<option value="DDD">DDD</option>
					<option value="WWW">WWW</option>
				</select>
			</div>
			<div style="display:inline-block">
				<p><b>Position (Job) Category</b></p>
				<select>
					<option value="aaa">aaa</option>
					<option value="bbb">bbb</option>
					<option value="ccc">ccc</option>
					<option value="ddd">ddd</option>
					<option value="eee">eee</option>
				</select>
			</div>
		</form>
	</div>
	<div name="TraitsPage" class="pages" style="display:none">
		<div>
		<div style="display:inline-block">
			<img height="100" width="100" src="important.jpg" alt="scale"/>
		</div>
		<div style="display:inline-block">
			<h2>Openness</h2>
			<p>The degree of intellectual curiosity</p>
		</div>
		<p style="font-size:20px"><b>Please select desiered trait score below:</b></p>
		<table width="610">
			<tr>
				<td id="Openness_1" onclick="chosenBlock('Openness_1')">Click here to select the desiered trait value</td>
				<td id="Openness_2" onclick="chosenBlock('Openness_2')">Click here to select the desiered trait value</td>
				<td id="Openness_3" onclick="chosenBlock('Openness_3')">Click here to select the desiered trait value</td>
				<td id="Openness_4" onclick="chosenBlock('Openness_4')">Click here to select the desiered trait value</td>
				<td id="Openness_5" onclick="chosenBlock('Openness_5')">Click here to select the desiered trait value</td>
			</tr>
		</table>
		<p id="OpennessCurrentBlockMessage">You need to select trait score</p>
		<div style="display:inline-block">
			<img src="1.jpg" alt="1" onclick="chosenIcon(1)"/>
			<img src="2.jpg" alt="2" onclick="chosenIcon(2)"/>
			<img src="3.jpg" alt="3" onclick="chosenIcon(3)"/>
			<img src="4.jpg" alt="4" onclick="chosenIcon(4)"/>
			<img src="5.jpg" alt="5" onclick="chosenIcon(5)"/>
		</div>
	</div>
	<div>
		<div style="display:inline-block">
			<img height="100" width="100" src="important.jpg" alt="scale"/>
		</div>
		<div style="display:inline-block">
			<h2>Agreeableness</h2>
			<p>The degree of bla bla bla</p>
		</div>
		<p style="font-size:20px"><b>Please select desiered trait score below:</b></p>
		<table width="610">
			<tr>
				<td id="Agreeableness_1" onclick="chosenBlock('Agreeableness_1')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_2" onclick="chosenBlock('Agreeableness_2')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_3" onclick="chosenBlock('Agreeableness_3')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_4" onclick="chosenBlock('Agreeableness_4')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_5" onclick="chosenBlock('Agreeableness_5')">Click here to select the desiered trait value</td>
			</tr>
		</table>
		<p id="AgreeablenessCurrentBlockMessage">You need to select trait score</p>
		<div style="display:inline-block">
			<img src="1.jpg" alt="1" onclick="chosenIcon(1)"/>
			<img src="2.jpg" alt="2" onclick="chosenIcon(2)"/>
			<img src="3.jpg" alt="3" onclick="chosenIcon(3)"/>
			<img src="4.jpg" alt="4" onclick="chosenIcon(4)"/>
			<img src="5.jpg" alt="5" onclick="chosenIcon(5)"/>
		</div>
	</div>
	
	</div>
	<div class="pages" style="display:none">
		<h1><b>Third</b></h1>
	</div>
	<script>
		var traitNames=['Openness','Agreeableness'];
		var myColors=["#dcd9d9","#eb4841","#f48847","#ffc84a","#a6c34c","#4ec04e"];
		var blockNames=[' Low',' Below Average',' Average',' Above Average',' High'];
		var traits={};
		traitNames.forEach(createTraitEntry);
		var currentBlock=""
		var traitName="";
		var blockNumber="";
		
		function navigateToPage(pageNumber)
		{
			var pages = document.getElementsByClassName("pages");
			var i;
			for (i = 0; i < pages.length; i++) 
			{
				pages[i].style.display = (i==pageNumber-1) ? "block" : "none";
			}
		}
	
		function chosenBlock(blockID)
		{
			if(currentBlock!="")
			{
				unMarkBlock(currentBlock);
			}
			currentBlock=blockID;
			markBlock(currentBlock);
			setBlockData(currentBlock);
			document.getElementById(traitName+"CurrentBlockMessage").innerHTML="How much do you like candidates with "+traitName + blockNames[blockNumber-1] +" ?";
		}
		
		function chosenIcon(iconNumber)
		{
			if (currentBlock=="")
				return;
			setBlockData(currentBlock);
			traits[traitName][blockNumber-1]=iconNumber;
			document.getElementById(currentBlock).style.backgroundColor=myColors[iconNumber];
		}
		
		function createTraitEntry(name)
		{	
			var myArray=[,,,,,];
			traits[name]=myArray;
		}
		
		function markBlock(blockID)
		{
			document.getElementById(blockID).style.borderStyle="double";
			document.getElementById(blockID).style.borderColor="#f48847";
			document.getElementById(blockID).style.borderWidth="1px";
		}

		function unMarkBlock(blockID)
		{
			document.getElementById(blockID).style.borderColor="#000000";
			document.getElementById(blockID).style.borderStyle="solid";
			document.getElementById(blockID).style.borderWidth="1px";
		}
		
		function setBlockData(blockID)
		{
			traitName=blockID.slice(0,-2);
			blockNumber=blockID.slice(-1);
		}
		
		function submitForm()
		{
			var form = document.getElementById('dataForm');
			form.setAttribute('method', 'post');
			form.setAttribute('action', '/addData');
			var input = document.createElement("input");
			input.setAttribute("type", "hidden");
			input.setAttribute("name", "traits");
			input.setAttribute("value", JSON.stringify(traits));
			form.appendChild(input);
			form.submit();
		}
		
	</script>
	</body>
</html>