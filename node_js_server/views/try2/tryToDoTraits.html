<!DOCTYPE html>
<html>
	<head>
	<title>Cyber Traits - New Role Page</title>
	<style>
	p,h1,h2 {
		font-family:"Arial";	
	}
	table,td {
		font-family:"Arial";			
		border: 1px solid black;
		border-collapse:collapse;
		background-color:#dcd9d9;
		outline-color:#42c0fb;
		outline-width:3px;
	}
	.input-objects {
		float:left;
		margin-right:20px;
		margin-left:20px;
	}
	.input-description {
		font-size:10px;
	}
	</style>
	</head>
	<body>
	<div name="navigationButtons" style="display:inline-block">
	<button onclick="navigateToPage(1)">1</button>
	<button onclick="navigateToPage(2)">2</button>
	<button onclick="navigateToPage(3)">3</button>
	<button onclick="submitForm()">Submit</button>
	</div>
	<div name="MetadataPage" class="pages">
		<h1>General Position Properties</h1>
		<p>Section 1: General Job Description</p>
		<form id="dataForm">
			<div class="input-objects">
				<p><b>Job ID</b></p>
				<input name="roleID"/>
			</div>
			<div class="input-objects">
				<p><b>Organization Name</b></p>
				<select name="organizaionName" size="3" style="width:150px">
					<option value="CBL">CBL</option>
					<option value="JCT">JCT</option>
					<option value="KLM">KLM</option>
					<option value="DDD">DDD</option>
					<option value="WWW">WWW</option>
				</select>
				<p class="input-description">Please select your organization</p>
			</div>
			<div class="input-objects">
				<p><b>Position (Job) Category</b></p>
				<select name="jobCategory" id="positionCategory" oninput="chosenCategory()" style="width:150px">
					<option hidden disabled selected>--select an option--</option>
					<option value="aaa">aaa</option>
					<option value="bbb">bbb</option>
					<option value="ccc">ccc</option>
					<option value="ddd">ddd</option>
					<option value="eee">eee</option>
				</select>
				<p class="input-description">Please select job Category</p>
			</div>
			<div class="input-objects">
				<p><b>Position (Job) Name</b></p>
				<select name="jobName" id="positionName" style="width:150px">
				</select>
				<p class="input-description">Please select job Name</p>
			</div>
			<div class="input-objects">
				<p><b>Position (Job) Description</b></p>
				<input name="jobDescription" style="width:400px"></input>
				<p class="input-description">Please enter a brief job description</p>
			</div>
			<div class="input-objects">
				<p><b>Recruiting Department</b></p>
				<input name="recruitingDepartment"></input>
				<p class="input-description">Enter the Recruiting Department</p>
			</div>
			<div class="input-objects">
				<p><b>Job Placement Department</b></p>
				<input name="jobPlacementDepartment"></input>
				<p class="input-description">Enter the placement Department</p>
			</div>
			<div class="input-objects">
				<p><b>Gender Preference</b></p>
				<input type="radio" name="genderPreference">Male</input><br/>
				<input type="radio" name="genderPreference">Female</input><br/>
				<input type="radio" name="genderPreference">No Preference</input>
			</div>
			<div class="input-objects">
				<p><b>Age Preference</b></p>
				<input name="agePreference"></input>
				<p class="input-description">Please select job Name</p>
			</div>
			<div class="input-objects">
				<p><b>Date Entered</b></p>
				<input type="datetime-local"></input>
			</div>
		</form>
	</div>
	<div name="TraitsPage" class="pages" style="display:none">
		<h1>General Job Properties - Or how do you like your candidate for this specific job?</h1>
		<p>Section 2: Defining Optimal Traits specifications (per the above job)</p>
		<div>
		<div style="display:inline-block">
			<img height="100" width="100" src="important.jpg" alt="scale"/>
		</div>
		<div style="display:inline-block">
			<h2>Openness</h2>
			<p>The degree of intellectual curiosity</p>
		</div>
		<p style="font-size:20px"><b>For EACH of the 5 squares below, please select desired score (represented with the 5 colores). Note that ANY combination is possible.</b></p>
		<table width="610">
			<tr>
				<td id="Openness_1" onclick="chosenBlock('Openness_1')">Click here to select the desiered trait value</td>
				<td id="Openness_2" onclick="chosenBlock('Openness_2')">Click here to select the desiered trait value</td>
				<td id="Openness_3" onclick="chosenBlock('Openness_3')">Click here to select the desiered trait value</td>
				<td id="Openness_4" onclick="chosenBlock('Openness_4')">Click here to select the desiered trait value</td>
				<td id="Openness_5" onclick="chosenBlock('Openness_5')">Click here to select the desiered trait value</td>
			</tr>
		</table>
		<p id="OpennessCurrentBlockMessage">You need to specify a square</p>
		<div style="display:inline-block">
			<img src="1.jpg" alt="1" onclick="chosenIcon(1)"/>
			<img src="2.jpg" alt="2" onclick="chosenIcon(2)"/>
			<img src="3.jpg" alt="3" onclick="chosenIcon(3)"/>
			<img src="4.jpg" alt="4" onclick="chosenIcon(4)"/>
			<img src="5.jpg" alt="5" onclick="chosenIcon(5)"/>
		</div>
	</div>
	<hr style="border-width:3px"/>
	<div>
		<div style="display:inline-block">
			<img height="100" width="100" src="important.jpg" alt="scale"/>
		</div>
		<div style="display:inline-block">
			<h2>Agreeableness</h2>
			<p>The degree of bla bla bla</p>
		</div>
		<p style="font-size:20px"><b>For EACH of the 5 squares below, please select desired score (represented with the 5 colores). Note that ANY combination is possible.</b></p>
		<table width="610">
			<tr>
				<td id="Agreeableness_1" onclick="chosenBlock('Agreeableness_1')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_2" onclick="chosenBlock('Agreeableness_2')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_3" onclick="chosenBlock('Agreeableness_3')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_4" onclick="chosenBlock('Agreeableness_4')">Click here to select the desiered trait value</td>
				<td id="Agreeableness_5" onclick="chosenBlock('Agreeableness_5')">Click here to select the desiered trait value</td>
			</tr>
		</table>
		<p id="AgreeablenessCurrentBlockMessage">You need to specify a square</p>
		<div style="display:inline-block">
			<img src="1.jpg" alt="1" onclick="chosenIcon(1)"/>
			<img src="2.jpg" alt="2" onclick="chosenIcon(2)"/>
			<img src="3.jpg" alt="3" onclick="chosenIcon(3)"/>
			<img src="4.jpg" alt="4" onclick="chosenIcon(4)"/>
			<img src="5.jpg" alt="5" onclick="chosenIcon(5)"/>
		</div>
	</div>
	</div>
	<div class="pages" style="display:none">
		<h1><b>Third</b></h1>
	</div>
	<script>
		var jobsByCategory={aaa:['adi','asaf','avi'],bbb:['beni','beri','bili'],ccc:['cali','coca','coco'],ddd:['dudi','dor','dani'],eee:['eli','efi','egi']}
		var traitNames=['Openness','Agreeableness'];
		var myColors=["#dcd9d9","#eb4841","#f48847","#ffc84a","#a6c34c","#4ec04e"];
		var blockNames=[' Low',' Below Average',' Average',' Above Average',' High'];
		var traits={};
		traitNames.forEach(createTraitEntry);
		var currentBlock=""
		var traitName="";
		var blockNumber="";
		
		
		function navigateToPage(pageNumber)
		{
			var pages = document.getElementsByClassName("pages");
			var i;
			for (i = 0; i < pages.length; i++) 
			{
				pages[i].style.display = (i==pageNumber-1) ? "block" : "none";
			}
		}
	
		function chosenCategory()
		{
			categoryName=document.getElementById("positionCategory").value;
			var jobNames=jobsByCategory[categoryName];
			positionNames=document.getElementById("positionName");
			if (positionNames.length>0)
				cleanSelectObject(positionNames);
			jobNames.forEach(addOption);
		}
		
		function cleanSelectObject(selectObject)
		{
			while (selectObject.length>0)
				selectObject.remove(0);
		}
		
		function addOption(jobName)
		{
			var option = document.createElement("option");
			option.text = jobName;
			document.getElementById("positionName").add(option);
		}
		
		function chosenBlock(blockID)
		{
			if(currentBlock!="")
			{
				unSetBlock(currentBlock);
			}
			currentBlock=blockID;
			markBlock(currentBlock);
			setBlockData(currentBlock);
			document.getElementById(traitName+"CurrentBlockMessage").innerHTML="Please select your prefered score/color for \""+traitName +" - "+ blockNames[blockNumber-1]+"\"";
		}
		
		function chosenIcon(iconNumber)
		{
			if (currentBlock=="")
				return;
			setBlockData(currentBlock);
			traits[traitName][blockNumber-1]=iconNumber;
			document.getElementById(currentBlock).style.backgroundColor=myColors[iconNumber];
		}
		
		function createTraitEntry(name)
		{	
			var myArray=[,,,,,];
			traits[name]=myArray;
		}
		
		function markBlock(blockID)
		{
			document.getElementById(blockID).style.outlineStyle="solid";
			document.getElementById(blockID).style.borderColor="#42c0fb";
			document.getElementById(blockID).style.borderStyle="double";
		}

		function unMarkBlock(blockID)
		{
			document.getElementById(blockID).style.outlineStyle="none";
			document.getElementById(blockID).style.borderColor="#000000";
			document.getElementById(blockID).style.borderStyle="solid";
			
		}
		
		function unSetBlock(blockID)
		{
			unMarkBlock(blockID);
			setBlockData(currentBlock);
			document.getElementById(traitName+"CurrentBlockMessage").innerHTML="You need to specify a square";
		}
		
		function setBlockData(blockID)
		{
			traitName=blockID.slice(0,-2);
			blockNumber=blockID.slice(-1);
		}
		
		function submitForm()
		{
			var form = document.getElementById('dataForm');
			form.setAttribute('method', 'post');
			form.setAttribute('action', '/addData');
			var input = document.createElement("input");
			input.setAttribute("type", "hidden");
			input.setAttribute("name", "traits");
			input.setAttribute("value", JSON.stringify(traits));
			form.appendChild(input);
			form.submit();
		}
		
	</script>
	</body>
</html>